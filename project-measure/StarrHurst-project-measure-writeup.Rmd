---
output:
  pdf_document:
    keep_tex: true
    fig_caption: true
    toc: true
    toc_depth: 3 
    number_sections: true
    citation_package: natbib
    latex_engine: pdflatex
    template: ./../Latex Templates/report.tex
  html_document:
    df_print: paged
    
title: "Height and Body Proportions of Different Ethnicities"
author: 
- name: "Connor StarrHurst"
  affiliation: "Washington State University"
keywords: |
    multiple comparisons to control; multivariate chi-square distribution; nonlinear growth curves; Richard's curve; simulated critical points
abstract: |
  In this article we compare the body measurements of 251 people from various ethnic backgrounds. We specifically hypothesized that whites are typically taller than  \vspace{0.25in}

  \noindent Here is a second paragraph of the abstract (if necessary), and with the pipe notation it doesn't break. Notice it still needs to be indented. \vspace{0.25in}

  \noindent Generally, we write this abstract last.  Often it is called the executive summary. It should succinctly summarize the entire document.  You can include references such as this one to the Appendices section \ref{sec:appendix} if necessary.
sectionnumberdepth: 3
titleEndnotes: "ENDNOTES"
titleReferences: "REFERENCES"
columnsReferences: 2
titleTOC:  "TABLE OF CONTENTS"
bibliography: ./../biblio/master.bib
bibliostyle: ./../biblio/ormsv080.bst
date: "`r format(Sys.time(), '%B %d, %Y')`"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

# Sys.setenv(WSU_SANDBOX_HOST = "md5.mshaffer.com");
# Sys.setenv(WSU_SANDBOX_DATABASE = "wsu_sandbox_db");
# Sys.setenv(WSU_SANDBOX_USER = "wsu_sandox_user");
# Sys.setenv(WSU_SANDBOX_PASSWD = "!WSUCougars");
```

\section{Introduction}
\label{sec:intro}

\begin{figure}[!ht]
%OnePlot
	\hrule
	\caption{ \textbf{Comparision of Height and Head Proportions per Ethnicity} }
	\begin{center}
	    \scalebox{1.00}{	\includegraphics[trim = 0 0 0 0,clip,width=\textwidth]{tables/OnePlot.pdf} }
	\end{center}
	\label{fig:OnePlot}
	\hrule
\end{figure}

\begin{figure}[!ht]
%TwoPlot
	\hrule
	\caption{ \textbf{IQR of Height per Ethnicity} }
	\begin{center}
	    \scalebox{1.00}{	\includegraphics[trim = 0 0 0 0,clip,width=\textwidth]{tables/TwoPlot.pdf} }
	\end{center}
	\label{fig:TwoPlot}
	\hrule
\end{figure}

\paragraph{a = Asian, b = African American, ca = Caucasion/Asian, h = Hispanic, k = Korean, w = White}
\label{sec:into}




\section{Research Question:  Do certain ethnicities have specific body proportions?}
\label{sec:rq}


\subsection{Are white, caucasion, and anglo ethnicities generally taller than asian, chinese, japanese, and korean ethnicities?}
\label{sec:rq2}


\subsection{Are white, caucasion, and anglo ethnicities generally shorter than hispanic, latin american, and asian latino ethnicities?}
\label{sec:rq3}


\section{Data Description}
\label{sec:data}

Very brief introduction to the data, how it was collected, and so on.  Remember that everything is covered (who, what, when, where, why, how, so what, and so on).  Reference the section in the Appendix with greater detail about the data provenance.  This section should be about two paragraphs, and the Appendix should have more information.

\subsection{Summary Statistics of Data}
\label{sec:data-summary}

\input{tables/correlation-table1} 

\section{Key Findings}
\label{sec:findings}

\section{Conclusion}
\label{sec:conclusion}

\section{APPENDICES}
\label{sec:appendix}


\subsection{Data Provenance}
\label{sec:appendix-data-provenance}

\subsubsection{Data Collection Handout}
\label{sec:appendix-data-handout}

\begin{figure}[!ht]
	\hrule
	\caption{ \textbf{Handout Page 1} }
	\begin{center}
	    \scalebox{1.00}{	\includegraphics[trim = 0 0 0 0,clip,width=0.85\textwidth]{pdfs/Handout.pdf} }
	\end{center}
	\label{fig:handout-1}
	\hrule
\end{figure}


\subsection{Coding the Report}
\label{sec:appendix-setup}

\subsubsection{Preparing the Data}
\label{sec:appendix-setup2}

Below is the necessary functions and libraries required to run the code referenced in this document.

```{r,appendix-setup,message=FALSE}
library(devtools); # required for source_url

path.humanVerseWSU = "https://raw.githubusercontent.com/MonteShaffer/humanVerseWSU/"
source_url( paste0(path.humanVerseWSU,"master/misc/functions-project-measure.R") );

```

Below is the code to load the data and prepare it for analysis.

```{r,appendix-secret,message=FALSE}

path.to.project = "C:/Users/Connor/.ssh/stats419/project-measure/";
path.to.secret = 
  "C:/Users/Connor/Documents/1) WSU 2018-/Fall 2020/Stat 419/Project 1 Measure/";
path.to.tables = paste0(path.to.project,"tables/");
  createDirRecursive(path.to.tables);

measure = utils::read.csv( paste0(path.to.secret, "cm.final.measure.txt"), header=TRUE, 
                          quote="", sep="|");

path.github = "https://raw.githubusercontent.com/youknowwwho/stats419/";
source_url( paste0(path.github,"master/Functions/functions-project-measure.R") );

set.seed(11906189);

measure.df = prepareMeasureData(measure);

#summary(measure.df);
```

\subsubsection{Plots}
\label{sec:appendix-setup2}

Below is the code to generate the plots and save them as a table that you see in Section \ref{sec:intro}.

```{r,appendix-plots,message=FALSE}

set.seed(11906189);

measure.df.values = measure.df[c(3,4,7,22,25:27,29,36,37)];
measure.df.values = measure.df.values[c(measure.df.values$my.ethnicity == "w" |
                                          measure.df.values$my.ethnicity == "b" |
                                          measure.df.values$my.ethnicity == "h" |
                                          measure.df.values$my.ethnicity == "a" |
                                          measure.df.values$my.ethnicity == "ca" |
                                          measure.df.values$my.ethnicity == "k"),];
#a = Asian, b = African American, ca = Caucasion/Asian, h = Hispanic, k = Korean, w = White

##### ONE GRAPHIC #####
#https://github.com/rstudio/cheatsheets/blob/master/data-visualization-2.1.pdf
#https://www.datamentor.io/r-programming/saving-plot/

OnePlot = ggplot(measure.df.values, aes(x=height.heads, y=height, color=my.ethnicity)) +
  #geom_point(aes(shape=my.ethnicity, size=my.ethnicity)) +
  geom_point() +
  #scale_shape_manual(values=c(15:20)) +
  #scale_size_manual(values=c(1.5,1.5,1.5,1.5,1.5,2.5)) +
  labs(x="\"Heads\" in Height", y="Height", color="Ethnicity") +
  ggtitle("Height and Head Proportions per Ethnicity")

##### TWO GRAPHIC #####
TwoPlot = ggplot(measure.df.values, aes(x=height, color=my.ethnicity)) +
  geom_boxplot() +
  coord_flip() +
  labs(x="height", color="Ethnicity") +
  ggtitle("IQR of Height per Ethnicity")
```

\subsubsection{Summary Statistics}
\label{sec:appendix-setup2}

Below is the code to generate the summary statistics and save them as a table that you see in Section \ref{sec:data-summary}.

```{r,appendix-summary,message=FALSE}

set.seed(11906189);

measure.df.numeric = measure.df[sapply(measure.df, is.numeric)]; #get only numeric data

my.Means = colMeans(measure.df.numeric, na.rm = TRUE); #get mean of each column
my.StanDevs = sapply(measure.df.numeric, sd, na.rm = TRUE); #get stan dev of each column

file.correlation = paste0(path.to.tables,"correlation-table1.tex"); #save table name as

corrData = as.matrix(measure.df.numeric[c(1,2,5,12,15:19)]);  #numeric values 
#but only including height, head height, navel to floor, armpit to elbow, kneepit to 
#floor, hip to floor, armpit to floor, torso height, heads in height

buildLatexCorrelationTable(corrData, 
  rotateTable = TRUE,
  width.table = .9,
  width.names = "35mm",
  space.M.SD = ".25mm",
  space.SD.corr = ".5mm",
  space.between = ".01mm",
  myFile = file.correlation,
  myNames = c("Height (cm)", "Head Height (cm)", "Navel to Floor (cm)",
              "Armpit to Elbow (cm)", "Kneepit to Floor (cm)", "Hip to Floor (cm)", 
              "Armpit to Floor (cm)", "Torso Height (cm)", "\"Heads\" in Height"),
  myNote = "Pearson pairwise correlations are reported; \\newline a two-side test was 
  performed to report correlation significance.",
  showOnes = "center");

Sys.sleep(2); # in case Knit-PDF doesn't like making a file...
```

```{r eval=FALSE, include=FALSE, Latex-Debug}
#Latex Debug

\begin{figure}[!ht]
%TwoPlot
	\hrule
	\caption{ \textbf{IQR of Height per Ethnicity} }
	\begin{center}
	    \scalebox{1.00}{	\includegraphics[trim = 0 0 0 0,clip,width=\textwidth]{tables/TwoPlot.pdf} }
	\end{center}
	\label{fig:TwoPlot}
	\hrule
\end{figure}
```
